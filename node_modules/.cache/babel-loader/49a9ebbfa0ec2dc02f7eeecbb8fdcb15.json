{"ast":null,"code":"// Defaultable APIs\n//\n// Copyright 2011 Iris Couch\n//\n//    Licensed under the Apache License, Version 2.0 (the \"License\");\n//    you may not use this file except in compliance with the License.\n//    You may obtain a copy of the License at\n//\n//        http://www.apache.org/licenses/LICENSE-2.0\n//\n//    Unless required by applicable law or agreed to in writing, software\n//    distributed under the License is distributed on an \"AS IS\" BASIS,\n//    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//    See the License for the specific language governing permissions and\n//    limitations under the License.\nmodule.exports = good_args(defaultable);\nmodule.exports.def = good_args(fresh_defaultable);\nmodule.exports.merge = merge_obj;\n\nvar path_lib = require('path');\n\nvar real_require = require;\n\nfunction fresh_defaultable(_mod, _defs, _definer) {\n  var mod = defaultable.apply(this, arguments);\n  mod.defaults._defaultable.fresh = true;\n  return mod;\n}\n\nfunction defaultable(real_module, initial_defs, definer) {\n  if (!real_module || !real_module.exports) throw new Error('Need to provide the module, with .exports object');\n  if (!is_obj(initial_defs)) throw new Error('Defaults must be an object'); // use real_module.id if filename not available (running on couchdb)\n\n  var mod_dir = path_lib.dirname(real_module.filename || real_module.id);\n  var mod_require = real_module.require || workaround_require;\n  workaround_require._defaultable = true;\n\n  function workaround_require(path) {\n    if (/^\\.\\//.test(path) || /^\\.\\.\\//.test(path)) path = path_lib.resolve(mod_dir, path);\n\n    try {\n      return real_require(path);\n    } catch (er) {\n      // This CouchDB workaround really belongs in CouchDB. CouchDB errors look like this:\n      //   [\"error\",\"invalid_require_path\",\"Must require a JavaScript string, not: object\"]\n      if (er[0] !== \"error\" || er[1] !== \"invalid_require_path\" || er[2] !== \"Must require a JavaScript string, not: object\") throw er;\n\n      try {\n        return real_require(path + '/index');\n      } catch (er2) {\n        throw er;\n      } // Nope, throw the original error.\n\n    }\n  }\n\n  var defaulter = make_defaulter({});\n  real_module.exports = defaulter(initial_defs);\n  return real_module.exports;\n\n  function make_defaulter(old_defs) {\n    defaulter._defaultable = {};\n    return defaulter;\n\n    function defaulter(new_defs) {\n      var faux_exports = {};\n      var faux_module = {\n        \"exports\": faux_exports\n      };\n      var final_defs = merge_obj(new_defs || {}, old_defs);\n      require._defaultable = true;\n\n      function require(path) {\n        var mod = mod_require.call(real_module, path);\n        if (mod.defaults && typeof mod.defaults === 'function' && mod.defaults._defaultable && !mod.defaults._defaultable.fresh) return mod.defaults(final_defs);\n        return mod;\n      }\n\n      definer(faux_module, faux_exports, final_defs, require);\n      var api = faux_module.exports;\n      if ('defaults' in api && !api.defaults._defaultable) throw new Error('defaultable modules may not export a label called \"defaults\"');else api.defaults = make_defaulter(final_defs);\n      return api;\n    }\n  }\n} // Recursively merge higher-priority values into previously-set lower-priority ones.\n\n\nfunction merge_obj(high, low) {\n  if (!is_obj(high)) throw new Error('Bad merge high-priority');\n  if (!is_obj(low)) throw new Error('Bad merge low-priority');\n  var keys = [];\n\n  function add_key(k) {\n    if (!~keys.indexOf(k)) keys.push(k);\n  }\n\n  _each(_keys(high), add_key);\n\n  _each(_keys(low), add_key);\n\n  var result = {};\n\n  _each(keys, function (key) {\n    var high_val = high[key];\n    var low_val = low[key];\n    if (is_obj(high_val) && is_obj(low_val)) result[key] = merge_obj(high_val, low_val);else if (key in high) result[key] = high[key];else if (key in low) result[key] = low[key];else throw new Error('Unknown key type: ' + key);\n  });\n\n  return result;\n} //\n// Utilities\n//\n\n/**\n * Added for browser compatibility\n */\n\n\nfunction _keys(obj) {\n  if (Object.keys) return Object.keys(obj);\n  var keys = [];\n\n  for (var k in obj) {\n    if (obj.hasOwnProperty(k)) keys.push(k);\n  }\n\n  return keys;\n}\n\nfunction _each(obj, fn) {\n  for (var i = 0, len = obj.length; i < len; i++) {\n    fn(obj[i]);\n  }\n}\n\nfunction isArray(obj) {\n  if (Array.isArray) return Array.isArray(obj);\n  return toString.call(obj) === '[object Array]';\n}\n\nfunction good_args(func) {\n  // Make a function validate its parameters.\n  return good;\n\n  function good(_Mod, _Defs, _Definer) {\n    var args = Array.prototype.slice.call(arguments);\n    var m0dule = {\n      'exports': {}\n    };\n    if (args.length == 1) return func(m0dule, {}, args[0]);else if (args.length == 2) return func(m0dule, args[0], args[1]);else if (args.length > 2) return func.apply(this, args);else throw new Error('Unknown arguments: ' + JSON.stringify(args));\n  }\n}\n\nfunction is_obj(val) {\n  return val && !isArray(val) && typeof val === 'object';\n}","map":{"version":3,"sources":["C:/react/quiz/node_modules/defaultable/defaultable.js"],"names":["module","exports","good_args","defaultable","def","fresh_defaultable","merge","merge_obj","path_lib","require","real_require","_mod","_defs","_definer","mod","apply","arguments","defaults","_defaultable","fresh","real_module","initial_defs","definer","Error","is_obj","mod_dir","dirname","filename","id","mod_require","workaround_require","path","test","resolve","er","er2","defaulter","make_defaulter","old_defs","new_defs","faux_exports","faux_module","final_defs","call","api","high","low","keys","add_key","k","indexOf","push","_each","_keys","result","key","high_val","low_val","obj","Object","hasOwnProperty","fn","i","len","length","isArray","Array","toString","func","good","_Mod","_Defs","_Definer","args","prototype","slice","m0dule","JSON","stringify","val"],"mappings":"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","sourcesContent":["// Defaultable APIs\n//\n// Copyright 2011 Iris Couch\n//\n//    Licensed under the Apache License, Version 2.0 (the \"License\");\n//    you may not use this file except in compliance with the License.\n//    You may obtain a copy of the License at\n//\n//        http://www.apache.org/licenses/LICENSE-2.0\n//\n//    Unless required by applicable law or agreed to in writing, software\n//    distributed under the License is distributed on an \"AS IS\" BASIS,\n//    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//    See the License for the specific language governing permissions and\n//    limitations under the License.\n\nmodule.exports = good_args(defaultable);\nmodule.exports.def   = good_args(fresh_defaultable);\nmodule.exports.merge = merge_obj;\n\nvar path_lib = require('path');\nvar real_require = require;\n\n\nfunction fresh_defaultable(_mod, _defs, _definer) {\n  var mod = defaultable.apply(this, arguments);\n  mod.defaults._defaultable.fresh = true;\n  return mod;\n}\n\n\nfunction defaultable(real_module, initial_defs, definer) {\n  if(!real_module || !real_module.exports)\n    throw new Error('Need to provide the module, with .exports object');\n\n  if(!is_obj(initial_defs))\n    throw new Error('Defaults must be an object');\n\n  // use real_module.id if filename not available (running on couchdb)\n  var mod_dir = path_lib.dirname(real_module.filename || real_module.id);\n  var mod_require = real_module.require || workaround_require;\n\n  workaround_require._defaultable = true;\n  function workaround_require(path) {\n    if(/^\\.\\//.test(path) || /^\\.\\.\\//.test(path))\n      path = path_lib.resolve(mod_dir, path);\n\n    try       {\n      return real_require(path)\n    } catch(er) {\n      // This CouchDB workaround really belongs in CouchDB. CouchDB errors look like this:\n      //   [\"error\",\"invalid_require_path\",\"Must require a JavaScript string, not: object\"]\n      if(er[0] !== \"error\" || er[1] !== \"invalid_require_path\"\n      || er[2] !== \"Must require a JavaScript string, not: object\")\n        throw er;\n\n      try        { return real_require(path + '/index') }\n      catch(er2) { throw er                             } // Nope, throw the original error.\n    }\n  }\n\n  var defaulter = make_defaulter({});\n  real_module.exports = defaulter(initial_defs);\n  return real_module.exports;\n\n  function make_defaulter(old_defs) {\n    defaulter._defaultable = {};\n    return defaulter;\n\n    function defaulter(new_defs) {\n      var faux_exports = {};\n      var faux_module = {\"exports\":faux_exports};\n      var final_defs = merge_obj(new_defs || {}, old_defs);\n\n      require._defaultable = true;\n      function require(path) {\n        var mod = mod_require.call(real_module, path);\n        if(mod.defaults && typeof mod.defaults === 'function' && mod.defaults._defaultable && !mod.defaults._defaultable.fresh)\n          return mod.defaults(final_defs);\n        return mod;\n      }\n\n      definer(faux_module, faux_exports, final_defs, require);\n\n      var api = faux_module.exports;\n      if(('defaults' in api) && !api.defaults._defaultable)\n        throw new Error('defaultable modules may not export a label called \"defaults\"');\n      else\n        api.defaults = make_defaulter(final_defs);\n\n      return api;\n    }\n  }\n}\n\n\n// Recursively merge higher-priority values into previously-set lower-priority ones.\nfunction merge_obj(high, low) {\n  if(!is_obj(high))\n    throw new Error('Bad merge high-priority');\n  if(!is_obj(low))\n    throw new Error('Bad merge low-priority');\n\n  var keys = [];\n  function add_key(k) {\n    if(!~ keys.indexOf(k))\n      keys.push(k);\n  }\n\n  _each(_keys(high), add_key);\n  _each(_keys(low), add_key);\n\n  var result = {};\n  _each(keys, function (key) {\n    var high_val = high[key];\n    var low_val = low[key];\n\n    if(is_obj(high_val) && is_obj(low_val))\n      result[key] = merge_obj(high_val, low_val);\n    else if (key in high)\n      result[key] = high[key];\n    else if (key in low)\n      result[key] = low[key];\n    else\n      throw new Error('Unknown key type: ' + key);\n  })\n\n  return result;\n}\n\n\n//\n// Utilities\n//\n\n/**\n * Added for browser compatibility\n */\n\nfunction _keys(obj) {\n  if(Object.keys) return Object.keys(obj);\n  var keys = [];\n  for(var k in obj){\n    if(obj.hasOwnProperty(k)) keys.push(k);\n  }\n  return keys;\n}\n\nfunction _each(obj, fn) {\n  for (var i = 0, len = obj.length; i < len; i++) {\n    fn(obj[i]);\n  }\n}\n\nfunction isArray(obj) {\n  if(Array.isArray)\n    return Array.isArray(obj);\n  return toString.call(obj) === '[object Array]';\n}\n\nfunction good_args(func) {\n  // Make a function validate its parameters.\n  return good;\n\n  function good(_Mod, _Defs, _Definer) {\n    var args = Array.prototype.slice.call(arguments);\n    var m0dule = { 'exports': {} };\n\n    if(args.length == 1)\n      return func(m0dule, {}, args[0]);\n    else if(args.length == 2)\n      return func(m0dule, args[0], args[1]);\n    else if(args.length > 2)\n      return func.apply(this, args);\n    else\n      throw new Error('Unknown arguments: ' + JSON.stringify(args));\n  }\n}\n\nfunction is_obj(val) {\n  return val && !isArray(val) && (typeof val === 'object')\n}\n"]},"metadata":{},"sourceType":"script"}