{"ast":null,"code":"// Load modules\nvar Http = require('http');\n\nvar NodeUtil = require('util');\n\nvar Hoek = require('hoek'); // Declare internals\n\n\nvar internals = {};\n/*\r\n    Boom(new Error)\r\n    Boom(code, message)\r\n*/\n\nexports = module.exports = internals.Boom = function () {\n  var self = this;\n  Hoek.assert(this.constructor === internals.Boom, 'Error must be instantiated using new');\n  Error.call(this);\n  this.isBoom = true;\n  this.response = {\n    code: 0,\n    payload: {},\n    headers: {} // type: 'content-type'\n\n  };\n\n  if (arguments[0] instanceof Error) {\n    // Error\n    var error = arguments[0];\n    this.data = error;\n    this.response.code = error.code || 500;\n\n    if (error.message) {\n      this.message = error.message;\n    }\n  } else {\n    // code, message\n    var code = arguments[0];\n    var message = arguments[1];\n    Hoek.assert(!isNaN(parseFloat(code)) && isFinite(code) && code >= 400, 'First argument must be a number (400+)');\n    this.response.code = code;\n\n    if (message) {\n      this.message = message;\n    }\n  } // Response format\n\n\n  this.reformat();\n  return this;\n};\n\nNodeUtil.inherits(internals.Boom, Error);\n\ninternals.Boom.prototype.reformat = function () {\n  this.response.payload.code = this.response.code;\n  this.response.payload.error = Http.STATUS_CODES[this.response.code] || 'Unknown';\n\n  if (this.message) {\n    this.response.payload.message = this.message;\n  }\n}; // Utilities\n\n\ninternals.Boom.badRequest = function (message) {\n  return new internals.Boom(400, message);\n};\n\ninternals.Boom.unauthorized = function (error, scheme, attributes) {\n  // Or function (error, wwwAuthenticate[])\n  var err = new internals.Boom(401, error);\n\n  if (!scheme) {\n    return err;\n  }\n\n  var wwwAuthenticate = '';\n\n  if (typeof scheme === 'string') {\n    // function (error, scheme, attributes)\n    wwwAuthenticate = scheme;\n\n    if (attributes) {\n      var names = Object.keys(attributes);\n\n      for (var i = 0, il = names.length; i < il; ++i) {\n        if (i) {\n          wwwAuthenticate += ',';\n        }\n\n        var value = attributes[names[i]];\n\n        if (value === null || value === undefined) {\n          // Value can be zero\n          value = '';\n        }\n\n        wwwAuthenticate += ' ' + names[i] + '=\"' + Hoek.escapeHeaderAttribute(value.toString()) + '\"';\n      }\n    }\n\n    if (error) {\n      if (attributes) {\n        wwwAuthenticate += ',';\n      }\n\n      wwwAuthenticate += ' error=\"' + Hoek.escapeHeaderAttribute(error) + '\"';\n    } else {\n      err.isMissing = true;\n    }\n  } else {\n    // function (error, wwwAuthenticate[])\n    var wwwArray = scheme;\n\n    for (var i = 0, il = wwwArray.length; i < il; ++i) {\n      if (i) {\n        wwwAuthenticate += ', ';\n      }\n\n      wwwAuthenticate += wwwArray[i];\n    }\n  }\n\n  err.response.headers['WWW-Authenticate'] = wwwAuthenticate;\n  return err;\n};\n\ninternals.Boom.clientTimeout = function (message) {\n  return new internals.Boom(408, message);\n};\n\ninternals.Boom.serverTimeout = function (message) {\n  return new internals.Boom(503, message);\n};\n\ninternals.Boom.forbidden = function (message) {\n  return new internals.Boom(403, message);\n};\n\ninternals.Boom.notFound = function (message) {\n  return new internals.Boom(404, message);\n};\n\ninternals.Boom.internal = function (message, data) {\n  var err = new internals.Boom(500, message);\n  err.trace = Hoek.displayStack(1);\n  err.data = data;\n  err.response.payload.message = 'An internal server error occurred'; // Hide actual error from user\n\n  return err;\n};\n\ninternals.Boom.passThrough = function (code, payload, contentType, headers) {\n  var err = new internals.Boom(500, 'Pass-through'); // 500 code is only used to initialize\n\n  err.data = {\n    code: code,\n    payload: payload,\n    type: contentType\n  };\n  err.response.code = code;\n  err.response.type = contentType;\n  err.response.headers = headers;\n  err.response.payload = payload;\n  return err;\n};","map":{"version":3,"sources":["C:/react/quiz/node_modules/boom/lib/index.js"],"names":["Http","require","NodeUtil","Hoek","internals","exports","module","Boom","self","assert","constructor","Error","call","isBoom","response","code","payload","headers","arguments","error","data","message","isNaN","parseFloat","isFinite","reformat","inherits","prototype","STATUS_CODES","badRequest","unauthorized","scheme","attributes","err","wwwAuthenticate","names","Object","keys","i","il","length","value","undefined","escapeHeaderAttribute","toString","isMissing","wwwArray","clientTimeout","serverTimeout","forbidden","notFound","internal","trace","displayStack","passThrough","contentType","type"],"mappings":"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","sourcesContent":["// Load modules\r\n\r\nvar Http = require('http');\r\nvar NodeUtil = require('util');\r\nvar Hoek = require('hoek');\r\n\r\n\r\n// Declare internals\r\n\r\nvar internals = {};\r\n\r\n/*\r\n    Boom(new Error)\r\n    Boom(code, message)\r\n*/\r\n\r\nexports = module.exports = internals.Boom = function () {\r\n\r\n    var self = this;\r\n\r\n    Hoek.assert(this.constructor === internals.Boom, 'Error must be instantiated using new');\r\n\r\n    Error.call(this);\r\n    this.isBoom = true;\r\n\r\n    this.response = {\r\n        code: 0,\r\n        payload: {},\r\n        headers: {}\r\n        // type: 'content-type'\r\n    };\r\n\r\n    if (arguments[0] instanceof Error) {\r\n\r\n        // Error\r\n\r\n        var error = arguments[0];\r\n\r\n        this.data = error;\r\n        this.response.code = error.code || 500;\r\n        if (error.message) {\r\n            this.message = error.message\r\n        }\r\n    }\r\n    else {\r\n\r\n        // code, message\r\n\r\n        var code = arguments[0];\r\n        var message = arguments[1];\r\n\r\n        Hoek.assert(!isNaN(parseFloat(code)) && isFinite(code) && code >= 400, 'First argument must be a number (400+)');\r\n\r\n        this.response.code = code;\r\n        if (message) {\r\n            this.message = message\r\n        }\r\n    }\r\n\r\n    // Response format\r\n\r\n    this.reformat();\r\n\r\n    return this;\r\n};\r\n\r\nNodeUtil.inherits(internals.Boom, Error);\r\n\r\n\r\ninternals.Boom.prototype.reformat = function () {\r\n\r\n    this.response.payload.code = this.response.code;\r\n    this.response.payload.error = Http.STATUS_CODES[this.response.code] || 'Unknown';\r\n    if (this.message) {\r\n        this.response.payload.message = this.message;\r\n    }\r\n};\r\n\r\n\r\n// Utilities\r\n\r\ninternals.Boom.badRequest = function (message) {\r\n\r\n    return new internals.Boom(400, message);\r\n};\r\n\r\n\r\ninternals.Boom.unauthorized = function (error, scheme, attributes) {           // Or function (error, wwwAuthenticate[])\r\n\r\n    var err = new internals.Boom(401, error);\r\n\r\n    if (!scheme) {\r\n        return err;\r\n    }\r\n\r\n    var wwwAuthenticate = '';\r\n\r\n    if (typeof scheme === 'string') {\r\n\r\n        // function (error, scheme, attributes)\r\n\r\n        wwwAuthenticate = scheme;\r\n        if (attributes) {\r\n            var names = Object.keys(attributes);\r\n            for (var i = 0, il = names.length; i < il; ++i) {\r\n                if (i) {\r\n                    wwwAuthenticate += ',';\r\n                }\r\n\r\n                var value = attributes[names[i]];\r\n                if (value === null ||\r\n                    value === undefined) {              // Value can be zero\r\n\r\n                    value = '';\r\n                }\r\n                wwwAuthenticate += ' ' + names[i] + '=\"' + Hoek.escapeHeaderAttribute(value.toString()) + '\"';\r\n            }\r\n        }\r\n\r\n        if (error) {\r\n            if (attributes) {\r\n                wwwAuthenticate += ',';\r\n            }\r\n            wwwAuthenticate += ' error=\"' + Hoek.escapeHeaderAttribute(error) + '\"';\r\n        }\r\n        else {\r\n            err.isMissing = true;\r\n        }\r\n    }\r\n    else {\r\n\r\n        // function (error, wwwAuthenticate[])\r\n\r\n        var wwwArray = scheme;\r\n        for (var i = 0, il = wwwArray.length; i < il; ++i) {\r\n            if (i) {\r\n                wwwAuthenticate += ', ';\r\n            }\r\n\r\n            wwwAuthenticate += wwwArray[i];\r\n        }\r\n    }\r\n\r\n    err.response.headers['WWW-Authenticate'] = wwwAuthenticate;\r\n\r\n    return err;\r\n};\r\n\r\n\r\ninternals.Boom.clientTimeout = function (message) {\r\n\r\n    return new internals.Boom(408, message);\r\n};\r\n\r\n\r\ninternals.Boom.serverTimeout = function (message) {\r\n\r\n    return new internals.Boom(503, message);\r\n};\r\n\r\n\r\ninternals.Boom.forbidden = function (message) {\r\n\r\n    return new internals.Boom(403, message);\r\n};\r\n\r\n\r\ninternals.Boom.notFound = function (message) {\r\n\r\n    return new internals.Boom(404, message);\r\n};\r\n\r\n\r\ninternals.Boom.internal = function (message, data) {\r\n\r\n    var err = new internals.Boom(500, message);\r\n    err.trace = Hoek.displayStack(1);\r\n    err.data = data;\r\n    err.response.payload.message = 'An internal server error occurred';                     // Hide actual error from user\r\n\r\n    return err;\r\n};\r\n\r\n\r\ninternals.Boom.passThrough = function (code, payload, contentType, headers) {\r\n\r\n    var err = new internals.Boom(500, 'Pass-through');                                      // 500 code is only used to initialize\r\n\r\n    err.data = {\r\n        code: code,\r\n        payload: payload,\r\n        type: contentType\r\n    };\r\n\r\n    err.response.code = code;\r\n    err.response.type = contentType;\r\n    err.response.headers = headers;\r\n    err.response.payload = payload;\r\n\r\n    return err;\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"script"}